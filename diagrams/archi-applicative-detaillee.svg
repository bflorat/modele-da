<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1655px" preserveAspectRatio="none" style="width:1466px;height:1655px;" version="1.1" viewBox="0 0 1466 1655" width="1466px" zoomAndPan="magnify"><defs/><g><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="132" x="1318" y="9.2822">Diagramme de containeurs</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="144" x="1306" y="20.9229">Point de vue applicatif détaillé</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="160" x="1293" y="32.5635">Projet Mes Infos En Ligne (MIEL)</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="228" x="612.5" y="51.6299">archi-applicative-detaillee</text><!--MD5=[0b1e1d5afbe222e194d3592c757a343c]
cluster administration--><rect fill="#FFFFFF" height="104" style="stroke: #444444; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;" width="243" x="1046" y="1219.875"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="227" x="1054" y="1236.7266">Système administration B</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="1136.5" y="1251.6387">[System]</text><!--MD5=[62fb3842b33c0a138932b21a359a9115]
cluster si--><rect fill="#FFFFFF" height="1451.5" style="stroke: #444444; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;" width="1026" x="7" y="62.875"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="200" x="420" y="79.7266">Système d'information</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="489" y="94.6387">[System]</text><!--MD5=[1cf0bab96cde2dfe8ffc5dec0b758635]
entity scompta--><rect fill="#438DD5" height="52.5938" style="stroke: #3C7FC0; stroke-width: 1.5;" width="211" x="1060.5" y="1262.875"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="191" x="1070.5" y="1287.7266">Système comptabilité</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="90" x="1121" y="1302.6387">[Service REST]</text><!--MD5=[e6bafd685c02e51020f4eb4aafdbb7c4]
entity resources_statiques--><rect fill="#438DD5" height="136.4063" style="stroke: #3C7FC0; stroke-width: 1.5;" width="217" x="650.5" y="105.875"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="186" x="666" y="130.7266">Application Web ihm-</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35" x="741.5" y="149.3516">miel</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="112" x="703" y="164.2637">[Container: nginx]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="761" y="180.0889"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="682.5" y="196.3857">Délivre les ressources</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="197" x="660.5" y="212.6826">statiques (js, html, images...)</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="715" y="228.9795">de l'IHM MIEL</text><!--MD5=[33573e971ff506c0f246109ca3fd77bd]
entity spa--><rect fill="#438DD5" height="117.7813" style="stroke: #3C7FC0; stroke-width: 1.5;" width="217" x="574.5" y="574.875"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="114" x="626" y="599.7266">SPA ihm-miel</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="197" x="584.5" y="614.6387">[Container: javascript, React.js]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="685" y="630.4639"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="616" y="646.7607">Interface graphique</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="174" x="594" y="663.0576">permettant de demander</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="626" y="679.3545">ses informations</text><!--MD5=[870e13a82a9bc0252b17e3ad6e742bb1]
entity mobile--><rect fill="#438DD5" height="136.4063" style="stroke: #3C7FC0; stroke-width: 1.5;" width="198" x="827" y="565.875"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="159" x="843.5" y="590.7266">Application mobile</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="42" x="905" y="609.3516">MIEL</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="127" x="862.5" y="624.2637">[Container: Android]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="928" y="640.0889"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="859" y="656.3857">Interface graphique</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="174" x="837" y="672.6826">permettant de demander</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="869" y="688.9795">ses informations</text><!--MD5=[31b50539c062e48f418cd0b43b66a14f]
entity sm--><rect fill="#438DD5" height="131.75" style="stroke: #3C7FC0; stroke-width: 1.5;" width="218" x="251" y="950.875"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="106" x="307" y="975.7266">service-miel</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="168" x="274" y="990.6387">[Container: Tomcat, Spring</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="34" x="343" y="1004.6074">Boot]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="362" y="1020.4326"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="194" x="265" y="1036.7295">Service REST permettant de</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="146" x="287" y="1053.0264">faire une demande d'</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="317.5" y="1069.3232">informations</text><!--MD5=[81eb248ad19e595af57658e74548f0fb]
entity batch--><rect fill="#438DD5" height="120.1094" style="stroke: #3C7FC0; stroke-width: 1.5;" width="214" x="683" y="956.875"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="121" x="729.5" y="981.7266">batch-traiter-</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="744.5" y="1000.3516">demandes</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="120" x="730" y="1015.2637">[Container: groovy]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="792" y="1031.0889"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="186" x="697" y="1047.3857">Traite les demandes, lancé</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="190" x="695" y="1063.6826">par cron toutes les minutes</text><!--MD5=[7edcefaa406c65155265f04249a95b70]
entity file--><path d="M305,1411.875 C305,1401.875 392,1401.875 392,1401.875 C392,1401.875 479,1401.875 479,1411.875 L479,1486.0625 C479,1496.0625 392,1496.0625 392,1496.0625 C392,1496.0625 305,1496.0625 305,1486.0625 L305,1411.875 " fill="#438DD5" style="stroke: #3C7FC0; stroke-width: 1.5;"/><path d="M305,1411.875 C305,1421.875 392,1421.875 392,1421.875 C392,1421.875 479,1421.875 479,1411.875 " fill="none" style="stroke: #3C7FC0; stroke-width: 1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="124" x="330" y="1440.7266">file-demandes</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="138" x="323" y="1455.6387">[Container: RabbitMQ]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="394" y="1471.4639"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="319" y="1487.7607">Stocke les demandes</text><!--MD5=[603ca9136f074a8ec06a33b8559706d8]
entity bdd--><path d="M15.5,1411.875 C15.5,1401.875 101,1401.875 101,1401.875 C101,1401.875 186.5,1401.875 186.5,1411.875 L186.5,1486.0625 C186.5,1496.0625 101,1496.0625 101,1496.0625 C101,1496.0625 15.5,1496.0625 15.5,1486.0625 L15.5,1411.875 " fill="#438DD5" style="stroke: #3C7FC0; stroke-width: 1.5;"/><path d="M15.5,1411.875 C15.5,1421.875 101,1421.875 101,1421.875 C101,1421.875 186.5,1421.875 186.5,1411.875 " fill="none" style="stroke: #3C7FC0; stroke-width: 1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="75" x="63.5" y="1440.7266">bdd-miel</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="151" x="25.5" y="1455.6387">[Container: PostgreSQL]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="103" y="1471.4639"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="59" y="1487.7607">Base interne</text><!--MD5=[1d51138b063b4ea7af95f6dcbfdcef50]
entity compo--><rect fill="#438DD5" height="115.4531" style="stroke: #3C7FC0; stroke-width: 1.5;" width="186" x="596" y="1391.375"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="606" y="1416.2266">service-compo-pdf</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="116" x="629" y="1431.1387">[Container: Wildfly,</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="86" x="646" y="1445.1074">JasperReport]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="691" y="1460.9326"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="632.5" y="1477.2295">Service REST de</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="646.5" y="1493.5264">composition</text><!--MD5=[22dcd1ec1e070222742b64049a14c569]
entity smails--><rect fill="#438DD5" height="85.1875" style="stroke: #3C7FC0; stroke-width: 1.5;" width="140" x="851" y="1406.375"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="110" x="866" y="1431.2266">serveur-mail</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="120" x="861" y="1446.1387">[Container: Postfix]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="923" y="1461.9639"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="866" y="1478.2607">Envoi les e-mails</text><!--MD5=[f38b7e6393ba0664c21da62e7868947a]
entity entreprise--><rect fill="#686868" height="103.8125" style="stroke: #8A8A8A; stroke-width: 1.5;" width="191" x="1041.5" y="365.875"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="92" x="1091" y="390.7266">Entreprise</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1139" y="407.4951"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1107.5" y="423.792">[person]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="167" x="1051.5" y="440.0889">Client Web (PC, tablette,</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="1111.5" y="456.3857">mobile)</text><!--MD5=[6df9ccaa30d1c2ff96f927482853b615]
link entreprise to resources_statiques--><path d="M1056.3415,365.8097 C1001.6861,330.5295 928.7791,283.4679 868.8382,244.7759 " fill="none" id="entreprise-to-resources_statiques" style="stroke: #666666; stroke-width: 2.0;"/><polygon fill="#666666" points="864.5453,242.0048,869.9376,250.2463,868.7462,244.7164,874.2761,243.5249,864.5453,242.0048" style="stroke: #666666; stroke-width: 2.0;"/><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="110" x="1019" y="286.7983">Visite https://</text><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="140" x="1004" y="304.2593">mesinfos.gouv.fr</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="121" x="1011.5" y="318.9355">[HTTPS, synchrone,</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87" x="1030.5" y="332.9043">lecture seule]</text><!--MD5=[c85d957bcccc526a44b132698103e2d3]
link entreprise to spa--><path d="M1041.3053,468.6874 C1040.2012,469.0933 1039.0992,469.4894 1038,469.875 C971.7891,493.1038 947.8785,473.1498 883,499.875 C839.5516,517.7725 795.6909,545.7953 760.1602,571.5976 " fill="none" id="entreprise-to-spa" style="stroke: #666666; stroke-width: 2.0;"/><polygon fill="#666666" points="755.8691,574.7324,765.496,572.6534,759.9065,571.783,760.7769,566.1935,755.8691,574.7324" style="stroke: #666666; stroke-width: 2.0;"/><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="110" x="892.5" y="514.7983">Récupère ses</text><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="132" x="884" y="532.2593">informations via</text><!--MD5=[7cc37134ef9f7b5ae48cead6a6dd65ec]
link entreprise to mobile--><path d="M1086.1917,469.8873 C1059.2405,497.4772 1025.7073,531.805 996.2967,561.9125 " fill="none" id="entreprise-to-mobile" style="stroke: #666666; stroke-width: 2.0;"/><polygon fill="#666666" points="992.7312,565.5625,1001.8816,561.9197,996.2251,561.9859,996.159,556.3294,992.7312,565.5625" style="stroke: #666666; stroke-width: 2.0;"/><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="110" x="1065.5" y="514.7983">Récupère ses</text><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="132" x="1057" y="532.2593">informations via</text><!--MD5=[fcd1bc53a8ff8bb13dd8dccc110d26b9]
link resources_statiques to spa--><path d="M747.7041,242.2449 C733.1088,330.5849 707.8859,483.2498 693.6252,569.5648 " fill="none" id="resources_statiques-to-spa" style="stroke: #666666; stroke-width: 2.0;"/><polygon fill="#666666" points="692.7861,574.6431,698.1996,566.4155,693.6011,569.71,690.3066,565.1115,692.7861,574.6431" style="stroke: #666666; stroke-width: 2.0;"/><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="750" y="391.7983">Fournit au</text><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="727" y="409.2593">navigateur Web</text><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="69" x="759.5" y="426.7202">du client</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="121" x="731.5" y="441.3965">[HTTPS, synchrone,</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87" x="750.5" y="455.3652">lecture seule]</text><!--MD5=[51f10525928d26d969720f56dab3cbdb]
link spa to sm--><path d="M633.2391,692.8794 C575.5208,761.3194 480.4545,874.045 419.0477,946.8587 " fill="none" id="spa-to-sm" style="stroke: #666666; stroke-width: 2.0;"/><polygon fill="#666666" points="415.7843,950.7283,424.6442,946.427,419.0077,946.906,418.5286,941.2695,415.7843,950.7283" style="stroke: #666666; stroke-width: 2.0;"/><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="143" x="574" y="777.7983">[1.1] Demande d'</text><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="598" y="795.2593">information</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="121" x="583" y="809.9355">[HTTPS, synchrone,</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87" x="602" y="823.9043">lecture seule]</text><!--MD5=[4d4e51ad28c3b1d3829418ccf63938ce]
link mobile to sm--><path d="M864.9264,701.9632 C827.3246,741.4444 776.7405,790.4045 726,826.875 C647.0712,883.6063 548.9175,933.604 474.1308,968.0537 " fill="none" id="mobile-to-sm" style="stroke: #666666; stroke-width: 2.0;"/><polygon fill="#666666" points="469.239,970.3003,479.0871,970.1792,473.7827,968.2136,475.7484,962.9092,469.239,970.3003" style="stroke: #666666; stroke-width: 2.0;"/><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="143" x="803" y="777.7983">[1.1] Demande d'</text><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="827" y="795.2593">information</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="121" x="812" y="809.9355">[HTTPS, synchrone,</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87" x="831" y="823.9043">lecture seule]</text><!--MD5=[e3894eb214d4b9c2246af59a1a5733d7]
link sm to bdd--><path d="M253.4284,1082.9465 C206.7067,1117.7284 155.9982,1164.6575 127,1219.875 C98.0114,1275.0742 94.6796,1347.9188 96.5111,1396.477 " fill="none" id="sm-to-bdd" style="stroke: #666666; stroke-width: 2.0;"/><polygon fill="#666666" points="96.7308,1401.6862,100.3477,1392.5255,96.5199,1396.6906,92.3548,1392.8629,96.7308,1401.6862" style="stroke: #666666; stroke-width: 2.0;"/><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="128" y="1272.2983">[1.2] Historisation</text><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="142" y="1289.7593">de la demande</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="110" x="145" y="1304.4355">[JDBC, synchrone,</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="54" x="175" y="1318.4043">écriture]</text><!--MD5=[a5948cf7f25e2a8d21066f6adcc7c959]
link sm to file--><path d="M326.5884,1083.1448 C298.7363,1147.5976 267.9235,1247.6205 297,1330.375 C305.6861,1355.0965 321.9438,1378.4814 338.5859,1397.8422 " fill="none" id="sm-to-file" style="stroke: #666666; stroke-width: 2.0;"/><polygon fill="#666666" points="341.9173,1401.6599,339.0135,1392.2488,338.6298,1397.8927,332.9859,1397.5089,341.9173,1401.6599" style="stroke: #666666; stroke-width: 2.0;"/><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="147" x="298" y="1272.2983">[1.3] Stockage de</text><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="324" y="1289.7593">la demande</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="103" x="318" y="1304.4355">[JMS, synchrone,</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="54" x="344.5" y="1318.4043">écriture]</text><!--MD5=[9d6d2a40b7c8fff5f50dc87e6a05f1e3]
link batch to file--><path d="M713.3579,1076.9867 C666.4484,1115.4853 606.5176,1167.8303 559,1219.875 C507.1493,1276.6657 456.3676,1349.4625 424.6737,1397.5573 " fill="none" id="batch-to-file" style="stroke: #666666; stroke-width: 2.0;"/><polygon fill="#666666" points="421.8567,1401.8434,430.1425,1396.5193,424.6029,1397.6651,423.4571,1392.1254,421.8567,1401.8434" style="stroke: #666666; stroke-width: 2.0;"/><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="123" x="560" y="1265.2983">[2.1] Dépile les</text><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="581.5" y="1282.7593">demandes</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="111" x="566.5" y="1297.4355">[JMS, asynchrone,</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="74" x="585" y="1311.4043">lecture puis</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="82" x="583" y="1325.373">suppression]</text><!--MD5=[be00085091a1bc3d162589b5e3176d1b]
link batch to scompta--><path d="M872.9803,1077.0136 C951.1231,1133.6464 1064.9075,1216.1098 1125.1094,1259.7402 " fill="none" id="batch-to-scompta" style="stroke: #666666; stroke-width: 2.0;"/><polygon fill="#666666" points="1129.3501,1262.8136,1124.41,1254.2933,1125.3015,1259.8795,1119.7154,1260.771,1129.3501,1262.8136" style="stroke: #666666; stroke-width: 2.0;"/><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="1095" y="1127.7983">[2.2]</text><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="1061" y="1145.2593">Récupération</text><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="1063" y="1162.7202">informations</text><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="1070" y="1180.1812">comptables</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="121" x="1055" y="1194.8574">[HTTPS, synchrone,</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87" x="1074" y="1208.8262">lecture seule]</text><!--MD5=[cd9a58046204cef197a2f3a62a4a6dee]
link batch to compo--><path d="M763.884,1077.0379 C747.6536,1116.8498 727.7156,1170.6081 716,1219.875 C702.8198,1275.3012 695.9496,1339.8735 692.447,1386.294 " fill="none" id="batch-to-compo" style="stroke: #666666; stroke-width: 2.0;"/><polygon fill="#666666" points="692.0774,1391.2946,696.7302,1382.6141,692.4461,1386.3082,688.752,1382.0241,692.0774,1391.2946" style="stroke: #666666; stroke-width: 2.0;"/><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="114" x="717" y="1272.2983">[2.3] Création</text><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="760" y="1289.7593">PDF</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="113" x="718" y="1304.4355">[HTTP, synchrone,</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="49" x="752" y="1318.4043">lecture]</text><!--MD5=[eaaeaa2406bfbada0033e97717f8f7df]
link batch to smails--><path d="M808.215,1076.9427 C834.4938,1163.6027 882.5159,1321.9656 906.5268,1401.1467 " fill="none" id="batch-to-smails" style="stroke: #666666; stroke-width: 2.0;"/><polygon fill="#666666" points="908.0732,1406.2461,909.2893,1396.4726,906.6222,1401.4613,901.6335,1398.7942,908.0732,1406.2461" style="stroke: #666666; stroke-width: 2.0;"/><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="143" x="885" y="1263.2983">[2.4] Demande d'</text><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="125" x="891.5" y="1280.7593">envoi mail avec</text><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="940" y="1298.2202">PDF</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="897" y="1312.8965">[SMTP, synchrone,</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="923.5" y="1326.8652">exécution]</text><!--MD5=[bcad36a888d9298dca6dce4e4e3fdc11]
link smails to entreprise--><path d="M991.3714,1436.096 C1107.1201,1413.0509 1325,1360.2578 1325,1289.375 C1325,633.875 1325,633.875 1325,633.875 C1325,567.3865 1273.69,511.4163 1224.681,473.1208 " fill="none" id="smails-to-entreprise" style="stroke: #666666; stroke-width: 2.0;"/><polygon fill="#666666" points="1220.5544,469.9331,1225.2317,478.6004,1224.5114,472.9896,1230.1222,472.2693,1220.5544,469.9331" style="stroke: #666666; stroke-width: 2.0;"/><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="1326" y="871.7983">[2.5] Envoi mail</text><text fill="#666666" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="76" x="1354" y="889.2593">avec PDF</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="1334.5" y="903.9355">[SMTP, synchrone,</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="1359" y="917.9043">exécution]</text><rect fill="#DDDDDD" height="111.7813" rx="5" ry="5" style="stroke: #000000; stroke-width: 1.0;" width="199" x="1245" y="1527.375"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="1321" y="1547.3701"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="39" x="1326" y="1547.3701">Type</text><rect fill="#08427B" height="16.2969" style="stroke: none; stroke-width: 1.0;" width="70" x="1251" y="1550.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1275" y="1563.667"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="1325" y="1563.667">person</text><rect fill="#686868" height="16.2969" style="stroke: none; stroke-width: 1.0;" width="70" x="1251" y="1566.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1275" y="1579.9639"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="1325" y="1579.9639">external person</text><rect fill="#1168BD" height="16.2969" style="stroke: none; stroke-width: 1.0;" width="70" x="1251" y="1583.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1263" y="1596.2607"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="1325" y="1596.2607">system</text><rect fill="#999999" height="16.2969" style="stroke: none; stroke-width: 1.0;" width="70" x="1251" y="1599.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1275" y="1612.5576"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="1325" y="1612.5576">external system</text><rect fill="#438DD5" height="16.2969" style="stroke: none; stroke-width: 1.0;" width="70" x="1251" y="1615.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1263" y="1628.8545"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1325" y="1628.8545">container</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1251" x2="1438" y1="1534.375" y2="1534.375"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1251" x2="1438" y1="1550.6719" y2="1550.6719"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1251" x2="1438" y1="1566.9688" y2="1566.9688"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1251" x2="1438" y1="1583.2656" y2="1583.2656"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1251" x2="1438" y1="1599.5625" y2="1599.5625"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1251" x2="1438" y1="1615.8594" y2="1615.8594"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1251" x2="1438" y1="1632.1563" y2="1632.1563"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1251" x2="1251" y1="1534.375" y2="1632.1563"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1321" x2="1321" y1="1534.375" y2="1632.1563"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1438" x2="1438" y1="1534.375" y2="1632.1563"/><!--MD5=[2b11c593267119da4bd1d9b82983fbf8]
@startuml
' C4-PlantUML, version 1.0.0
' https://github.com/RicardoNiepel/C4-PlantUML

' Colors
' ##################################

!define ELEMENT_FONT_COLOR #FFFFFF

' Styling
' ##################################

!define TECHN_FONT_SIZE 12

skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam rectangle {
    StereotypeFontSize 12
    shadowing false
}

skinparam database {
    StereotypeFontSize 12
    shadowing false
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 14
    Thickness 2
}

skinparam rectangle<<zone>> {
    Shadowing false
    StereotypeFontSize 0
    FontColor #444444
    BorderColor #444444
    BorderStyle dashed
}

' Layout
' ##################################

!definelong LAYOUT_AS_SKETCH
skinparam backgroundColor #EEEBDC
skinparam handwritten true
skinparam defaultFontName "Comic Sans MS"
center footer <font color=red>Warning:</font> Created for discussion, needs to be validated
!enddefinelong

!define LAYOUT_TOP_DOWN top to bottom direction
!define LAYOUT_LEFT_RIGHT left to right direction

' Boundaries
' ##################################

!define Boundary(e_alias, e_label) rectangle "==e_label" <<zone>> as e_alias
!define Boundary(e_alias, e_label, e_type) rectangle "==e_label\n<size:TECHN_FONT_SIZE>[e_type]</size>" <<zone>> as e_alias

' Relationship
' ##################################

!define Rel_(e_alias1, e_alias2, e_label, e_direction="") e_alias1 e_direction e_alias2 : "===e_label"
!define Rel_(e_alias1, e_alias2, e_label, e_techn, e_direction="") e_alias1 e_direction e_alias2 : "===e_label\n//<size:TECHN_FONT_SIZE>[e_techn]</size>//"

!define Rel(e_from,e_to, e_label) Rel_(e_from,e_to, e_label, "- ->")
!define Rel(e_from,e_to, e_label, e_techn) Rel_(e_from,e_to, e_label, e_techn, "- ->")

!define Rel_Back(e_to, e_from, e_label) Rel_(e_to, e_from, e_label, "<- -")
!define Rel_Back(e_to, e_from, e_label, e_techn) Rel_(e_to, e_from, e_label, e_techn, "<- -")

!define Rel_Neighbor(e_from,e_to, e_label) Rel_(e_from,e_to, e_label, "->")
!define Rel_Neighbor(e_from,e_to, e_label, e_techn) Rel_(e_from,e_to, e_label, e_techn, "->")

!define Rel_Back_Neighbor(e_to, e_from, e_label) Rel_(e_to, e_from, e_label, "<-")
!define Rel_Back_Neighbor(e_to, e_from, e_label, e_techn) Rel_(e_to, e_from, e_label, e_techn, "<-")

!define Rel_D(e_from,e_to, e_label) Rel_(e_from,e_to, e_label, "-DOWN->")
!define Rel_D(e_from,e_to, e_label, e_techn) Rel_(e_from,e_to, e_label, e_techn, "-DOWN->")
!define Rel_Down(e_from,e_to, e_label) Rel_D(e_from,e_to, e_label)
!define Rel_Down(e_from,e_to, e_label, e_techn) Rel_D(e_from,e_to, e_label, e_techn)

!define Rel_U(e_from,e_to, e_label) Rel_(e_from,e_to, e_label, "-UP->")
!define Rel_U(e_from,e_to, e_label, e_techn) Rel_(e_from,e_to, e_label, e_techn, "-UP->")
!define Rel_Up(e_from,e_to, e_label) Rel_U(e_from,e_to, e_label)
!define Rel_Up(e_from,e_to, e_label, e_techn) Rel_U(e_from,e_to, e_label, e_techn)

!define Rel_L(e_from,e_to, e_label) Rel_(e_from,e_to, e_label, "-LEFT->")
!define Rel_L(e_from,e_to, e_label, e_techn) Rel_(e_from,e_to, e_label, e_techn, "-LEFT->")
!define Rel_Left(e_from,e_to, e_label) Rel_L(e_from,e_to, e_label)
!define Rel_Left(e_from,e_to, e_label, e_techn) Rel_L(e_from,e_to, e_label, e_techn)

!define Rel_R(e_from,e_to, e_label) Rel_(e_from,e_to, e_label, "-RIGHT->")
!define Rel_R(e_from,e_to, e_label, e_techn) Rel_(e_from,e_to, e_label, e_techn, "-RIGHT->")
!define Rel_Right(e_from,e_to, e_label) Rel_R(e_from,e_to, e_label)
!define Rel_Right(e_from,e_to, e_label, e_techn) Rel_R(e_from,e_to, e_label, e_techn)

' Layout Helpers
' ##################################

!define Lay_D(e_from, e_to) e_from -[hidden]D- e_to
!define Lay_U(e_from, e_to) e_from -[hidden]U- e_to
!define Lay_R(e_from, e_to) e_from -[hidden]R- e_to
!define Lay_L(e_from, e_to) e_from -[hidden]L- e_to

' Scope: A single software system.
' Primary elements: The software system in scope.
' Supporting elements: People and software systems directly connected to the software system in scope.
' Intended audience: Everybody, both technical and non-technical people, inside and outside of the software development team.

' Colors
' ##################################

!define PERSON_BG_COLOR #08427B
!define EXTERNAL_PERSON_BG_COLOR #686868
!define SYSTEM_BG_COLOR #1168BD
!define EXTERNAL_SYSTEM_BG_COLOR #999999

' Styling
' ##################################

skinparam rectangle<<person>> {
    StereotypeFontColor ELEMENT_FONT_COLOR
    FontColor ELEMENT_FONT_COLOR
    BackgroundColor PERSON_BG_COLOR
    BorderColor #073B6F
}

skinparam rectangle<<external_person>> {
    StereotypeFontColor ELEMENT_FONT_COLOR
    FontColor ELEMENT_FONT_COLOR
    BackgroundColor EXTERNAL_PERSON_BG_COLOR
    BorderColor #8A8A8A
}

skinparam rectangle<<system>> {
    StereotypeFontColor ELEMENT_FONT_COLOR
    FontColor ELEMENT_FONT_COLOR
    BackgroundColor SYSTEM_BG_COLOR
    BorderColor #3C7FC0
}

skinparam rectangle<<external_system>> {
    StereotypeFontColor ELEMENT_FONT_COLOR
    FontColor ELEMENT_FONT_COLOR
    BackgroundColor EXTERNAL_SYSTEM_BG_COLOR
    BorderColor #8A8A8A
}

skinparam database<<system>> {
    StereotypeFontColor ELEMENT_FONT_COLOR
    FontColor ELEMENT_FONT_COLOR
    BackgroundColor SYSTEM_BG_COLOR
    BorderColor #3C7FC0
}

skinparam database<<external_system>> {
    StereotypeFontColor ELEMENT_FONT_COLOR
    FontColor ELEMENT_FONT_COLOR
    BackgroundColor EXTERNAL_SYSTEM_BG_COLOR
    BorderColor #8A8A8A
}

' Layout
' ##################################

!definelong LAYOUT_WITH_LEGEND
hide stereotype
legend right
|=              |= Type |
|<PERSON_BG_COLOR>      | person |
|<EXTERNAL_PERSON_BG_COLOR>      | external person |
|<SYSTEM_BG_COLOR>   | system |
|<EXTERNAL_SYSTEM_BG_COLOR>      | external system |
endlegend
!enddefinelong

' Elements
' ##################################

!define Person(e_alias, e_label) rectangle "==e_label" <<person>> as e_alias
!define Person(e_alias, e_label, e_descr) rectangle "==e_label\n\n e_descr" <<person>> as e_alias

!define Person_Ext(e_alias, e_label) rectangle "==e_label" <<external_person>> as e_alias
!define Person_Ext(e_alias, e_label, e_descr) rectangle "==e_label\n\n e_descr" <<external_person>> as e_alias

!define System(e_alias, e_label) rectangle "==e_label" <<system>> as e_alias
!define System(e_alias, e_label, e_descr) rectangle "==e_label\n\n e_descr" <<system>> as e_alias

!define System_Ext(e_alias, e_label) rectangle "==e_label" <<external_system>> as e_alias
!define System_Ext(e_alias, e_label, e_descr) rectangle "==e_label\n\n e_descr" <<external_system>> as e_alias

!define SystemDb(e_alias, e_label) database "==e_label" <<system>> as e_alias
!define SystemDb(e_alias, e_label, e_descr) database "==e_label\n\n e_descr" <<system>> as e_alias

!define SystemDb_Ext(e_alias, e_label) database "==e_label" <<external_system>> as e_alias
!define SystemDb_Ext(e_alias, e_label, e_descr) database "==e_label\n\n e_descr" <<external_system>> as e_alias

' Boundaries
' ##################################

!define Enterprise_Boundary(e_alias, e_label) Boundary(e_alias, e_label, "Enterprise")
!define System_Boundary(e_alias, e_label) Boundary(e_alias, e_label, "System")

' Scope: A single software system.
' Primary elements: Containers within the software system in scope.
' Supporting elements: People and software systems directly connected to the containers.
' Intended audience: Technical people inside and outside of the software development team; including software architects, developers and operations/support staff.

' Colors
' ##################################

!define CONTAINER_BG_COLOR #438DD5

' Styling
' ##################################

skinparam rectangle<<unité déployable>> {
    StereotypeFontColor ELEMENT_FONT_COLOR
    FontColor ELEMENT_FONT_COLOR
    BackgroundColor CONTAINER_BG_COLOR
    BorderColor #3C7FC0
}

skinparam database<<unité déployable>> {
    StereotypeFontColor ELEMENT_FONT_COLOR
    FontColor ELEMENT_FONT_COLOR
    BackgroundColor CONTAINER_BG_COLOR
    BorderColor #3C7FC0
}

' Layout
' ##################################

!definelong LAYOUT_WITH_LEGEND
hide stereotype
legend right
|=              |= Type |
|<PERSON_BG_COLOR>      | person |
|<EXTERNAL_PERSON_BG_COLOR>      | external person |
|<SYSTEM_BG_COLOR>   | system |
|<EXTERNAL_SYSTEM_BG_COLOR>      | external system |
|<CONTAINER_BG_COLOR>   | container |
endlegend
!enddefinelong

' Elements
' ##################################

!define Container(e_alias, e_label) rectangle "==e_label" <<unité déployable>> as e_alias
!define Container(e_alias, e_label, e_techn) rectangle "==e_label\n//<size:TECHN_FONT_SIZE>[e_techn]</size>//" <<unité déployable>> as e_alias
!define Container(e_alias, e_label, e_techn, e_descr) rectangle "==e_label\n//<size:TECHN_FONT_SIZE>[e_techn]</size>//\n\n e_descr" <<unité déployable>> as e_alias

!define ContainerDb(e_alias, e_label, e_techn) database "==e_label\n//<size:TECHN_FONT_SIZE>[e_techn]</size>//" <<unité déployable>> as e_alias
!define ContainerDb(e_alias, e_label, e_techn, e_descr) database "==e_label\n//<size:TECHN_FONT_SIZE>[e_techn]</size>//\n\n e_descr" <<unité déployable>> as e_alias

' Boundaries
' ##################################

!define Container_Boundary(e_alias, e_label) Boundary(e_alias, e_label, "Container")
title  archi-applicative-detaillee
header Diagramme de containeurs \nPoint de vue applicatif détaillé \n Projet Mes Infos En Ligne (MIEL)
LAYOUT_WITH_LEGEND()
Person_Ext(entreprise, "Entreprise","[person] \nClient Web (PC, tablette, mobile)")

System_Boundary(administration, "Système administration B") {
    Container(scompta, "Système comptabilité","Service REST") 
}

System_Boundary(si, "Système d'information"){
    Container(resources_statiques, "Application Web ihm-miel", "Container: nginx","Délivre les ressources statiques (js, html, images...) de l'IHM MIEL")
    Container(spa, "SPA ihm-miel", "Container: javascript, React.js","Interface graphique permettant de demander ses informations")
    Container(mobile, "Application mobile MIEL", "Container: Android","Interface graphique permettant de demander ses informations")
    Container(sm, "service-miel", "Container: Tomcat, Spring Boot","Service REST permettant de faire une demande d'informations")
    Container(batch, "batch-traiter-demandes", "Container: groovy","Traite les demandes, lancé par cron toutes les minutes")
    ContainerDb(file,"file-demandes","Container: RabbitMQ","Stocke les demandes")
    ContainerDb(bdd,"bdd-miel","Container: PostgreSQL","Base interne")
    Container(compo,"service-compo-pdf","Container: Wildfly, JasperReport", "Service REST de composition")
    Container(smails,"serveur-mail","Container: Postfix","Envoi les e-mails")     
}

Rel(entreprise,resources_statiques,"Visite https://mesinfos.gouv.fr", "HTTPS, synchrone, lecture seule")
Rel(entreprise,spa,"Récupère ses informations via")
Rel(entreprise,mobile,"Récupère ses informations via")
Rel(resources_statiques,spa,"Fournit au navigateur Web du client","HTTPS, synchrone, lecture seule")
Rel(spa, sm, "[1.1] Demande d'information","HTTPS, synchrone, lecture seule")
Rel(mobile, sm, "[1.1] Demande d'information","HTTPS, synchrone, lecture seule")
Rel(sm, bdd, "[1.2] Historisation de la demande","JDBC, synchrone, écriture")
Rel(sm, file, "[1.3] Stockage de la demande","JMS, synchrone, écriture")
Rel(batch, file, "[2.1] Dépile les demandes","JMS, asynchrone, lecture puis suppression")
Rel(batch, scompta, "[2.2] Récupération informations comptables","HTTPS, synchrone, lecture seule")
Rel(batch, compo, "[2.3] Création PDF","HTTP, synchrone, lecture")
Rel(batch, smails, "[2.4] Demande d'envoi mail avec PDF","SMTP, synchrone, exécution")
Rel(smails, entreprise, "[2.5] Envoi mail avec PDF","SMTP, synchrone,exécution")

@enduml

@startuml





skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam rectangle {
    StereotypeFontSize 12
    shadowing false
}

skinparam database {
    StereotypeFontSize 12
    shadowing false
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 14
    Thickness 2
}

skinparam rectangle<<zone>> {
    Shadowing false
    StereotypeFontSize 0
    FontColor #444444
    BorderColor #444444
    BorderStyle dashed
}






















skinparam rectangle<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}

skinparam rectangle<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}

skinparam rectangle<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam rectangle<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}

skinparam database<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam database<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
















skinparam rectangle<<unité déployable>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}

skinparam database<<unité déployable>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}







title  archi-applicative-detaillee
header Diagramme de containeurs \nPoint de vue applicatif détaillé \n Projet Mes Infos En Ligne (MIEL)
hide stereotype
legend right
|=              |= Type |
|<#08427B>      | person |
|<#686868>      | external person |
|<#1168BD>   | system |
|<#999999>      | external system |
|<#438DD5>   | container |
endlegend
rectangle "==Entreprise\n\n [person] \nClient Web (PC, tablette, mobile)" <<external_person>> as entreprise

rectangle "==Système administration B\n<size:12>[System]</size>" <<zone>> as administration {
    rectangle "==Système comptabilité\n//<size:12>[Service REST]</size>//" <<unité déployable>> as scompta 
}

rectangle "==Système d'information\n<size:12>[System]</size>" <<zone>> as si{
    rectangle "==Application Web ihm-miel\n//<size:12>[Container: nginx]</size>//\n\n Délivre les ressources statiques (js, html, images...) de l'IHM MIEL" <<unité déployable>> as resources_statiques
    rectangle "==SPA ihm-miel\n//<size:12>[Container: javascript, React.js]</size>//\n\n Interface graphique permettant de demander ses informations" <<unité déployable>> as spa
    rectangle "==Application mobile MIEL\n//<size:12>[Container: Android]</size>//\n\n Interface graphique permettant de demander ses informations" <<unité déployable>> as mobile
    rectangle "==service-miel\n//<size:12>[Container: Tomcat, Spring Boot]</size>//\n\n Service REST permettant de faire une demande d'informations" <<unité déployable>> as sm
    rectangle "==batch-traiter-demandes\n//<size:12>[Container: groovy]</size>//\n\n Traite les demandes, lancé par cron toutes les minutes" <<unité déployable>> as batch
    database "==file-demandes\n//<size:12>[Container: RabbitMQ]</size>//\n\n Stocke les demandes" <<unité déployable>> as file
    database "==bdd-miel\n//<size:12>[Container: PostgreSQL]</size>//\n\n Base interne" <<unité déployable>> as bdd
    rectangle "==service-compo-pdf\n//<size:12>[Container: Wildfly, JasperReport]</size>//\n\n Service REST de composition" <<unité déployable>> as compo
    rectangle "==serveur-mail\n//<size:12>[Container: Postfix]</size>//\n\n Envoi les e-mails" <<unité déployable>> as smails     
}

entreprise - -> resources_statiques : "===Visite https://mesinfos.gouv.fr\n//<size:12>[HTTPS, synchrone, lecture seule]</size>//"
entreprise - -> spa : "===Récupère ses informations via"
entreprise - -> mobile : "===Récupère ses informations via"
resources_statiques - -> spa : "===Fournit au navigateur Web du client\n//<size:12>[HTTPS, synchrone, lecture seule]</size>//"
spa - -> sm : "===[1.1] Demande d'information\n//<size:12>[HTTPS, synchrone, lecture seule]</size>//"
mobile - -> sm : "===[1.1] Demande d'information\n//<size:12>[HTTPS, synchrone, lecture seule]</size>//"
sm - -> bdd : "===[1.2] Historisation de la demande\n//<size:12>[JDBC, synchrone, écriture]</size>//"
sm - -> file : "===[1.3] Stockage de la demande\n//<size:12>[JMS, synchrone, écriture]</size>//"
batch - -> file : "===[2.1] Dépile les demandes\n//<size:12>[JMS, asynchrone, lecture puis suppression]</size>//"
batch - -> scompta : "===[2.2] Récupération informations comptables\n//<size:12>[HTTPS, synchrone, lecture seule]</size>//"
batch - -> compo : "===[2.3] Création PDF\n//<size:12>[HTTP, synchrone, lecture]</size>//"
batch - -> smails : "===[2.4] Demande d'envoi mail avec PDF\n//<size:12>[SMTP, synchrone, exécution]</size>//"
smails - -> entreprise : "===[2.5] Envoi mail avec PDF\n//<size:12>[SMTP, synchrone,exécution]</size>//"

@enduml

PlantUML version 1.2020.19(Mon Oct 12 15:10:01 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>